(async()=>{let[t,e]=Array.from(document.querySelector("table tbody").children).slice(3,5).map((t=>t.lastElementChild.textContent.trim()));t=t.split("/").shift(),e=e.toLowerCase().includes("am")?"1":"2";let n,r=t+"s"+e,o={"27s1":"https://json.extendsclass.com/bin/ad0b26002978"};try{n=await fetch(o[r]),n=await n.json()}catch(t){console.error(t),console.error("FAILED to fetch answer keys. Most probably because keys are yet to be uploaded.")}let l=[];for(let t of document.querySelectorAll("table.menu-tbl > tbody")){let e=t.children,r=Array.from(e).map((t=>t.lastChild.textContent.trim())),o="MCQ"===r[0],a=t.parentNode.parentElement.firstChild.firstChild.lastChild.lastChild.textContent.trim();a=o?"Not Answered"===r[6]?null:r.slice(2,6)[parseInt(r[7])-1]:"Not Answered"===r[2]?null:a,l.push({type:r[0],id:r[1],opts:o?r.slice(2,6):[],marked:a,score:n[r[1]]===a?4:a?-1:0})}l=l.map((t=>({...t,score:n[t.id]===t.marked?4:t.marked?-1:0})));let a=0,s=0,c=0,i=0,[d,m]=b("MAT",0),[p,u]=b("PHY",30),[h,f]=b("CHE",60),y=d+p+h,C=[m,u,f].join("\n\n");function b(t,e){let n=0,r=t;return l.slice(e,e+30).forEach((({score:t},o)=>{n+=t,o%10==0&&(r+="\n"),r+=function(t,e,n){let r=`${t<10?"0":""}${t}${e}`;for(;r.length<n;)r+=" ";return r}(o+e,function(t){switch(a++,t){case 4:return c++,"✅";case-1:return i++,"❌";case 0:return a--,s++,"❔"}}(t),5)})),[n,r]}let w=`\n${r}\nTOTAL: ${y}/300\n\nCorrect: ${c}\nIncorrect: ${i}\nAttempted: ${a}\nUnattempted: ${s}\n\nPhysics: ${p}/100\nChemistry: ${h}/100\nMaths: ${d}/100\n\n${C}`,x=document.createElement("div");x.style="background: black; color: white; padding: 1rem; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); box-shadow: 3px 3px 10px #00000055;";let $=document.createElement("pre");$.style="font-family: sans-serif;",$.textContent=w;let k=document.createElement("button");k.addEventListener("click",(t=>{window.navigator.clipboard.writeText(w),t.target.textContent="copied"})),k.style="width: fit-content; display: block; margin: 1rem 0 0 auto;",k.textContent="COPY",x.append($,k),document.body.appendChild(x)})();